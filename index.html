<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<title>Ruleta de Colores</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<style>
  :root {
    --wheel-size: 440px;       /* Ajusta el tama√±o de la ruleta */
    --wheel-margin: 24px;
  }

  * { box-sizing: border-box; }

  body {
    margin: 0;
    font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    min-height: 100vh;
    display: grid;
    place-items: center;
    /* TU FONDO AQU√ç */
    background:
        linear-gradient(#00000055, #00000055),
        url('https://i.scdn.co/image/ab67616d0000b2739cf15c7323fb85b7112197d5') center / cover no-repeat fixed;

  }

  .wrap {
    width: min(1100px, 95vw);
    display: grid;
    grid-template-columns: 1fr minmax(220px, 280px);
    gap: 28px;
    align-items: center;
    padding: 24px;
  }

  .panel-ruleta {
    position: relative;
    display: grid;
    place-items: center;
  }

  /* Flecha fija arriba de la ruleta */
  .flecha {
    position: absolute;
    top: 4px;
    width: 0; height: 0;
    border-left: 18px solid transparent;
    border-right: 18px solid transparent;
    border-bottom: 34px solid #111;  /* color de la flecha */
    filter: drop-shadow(0 2px 2px #0003);
    z-index: 3;
  }

  canvas {
    width: var(--wheel-size);
    height: var(--wheel-size);
    max-width: 90vw;
    max-height: 90vw;
    background: transparent;
    display: block;
    margin-top: var(--wheel-margin);
    border-radius: 50%;
    /* Borde suave de sombra para resaltar */
    box-shadow: 0 10px 30px #00000055, inset 0 0 0 1px #00000015;
  }

  .controles {
    margin-top: 16px;
    display: flex;
    gap: 12px;
    justify-content: center;
    flex-wrap: wrap;
  }

  button {
    padding: 10px 18px;
    font-size: 16px;
    border-radius: 10px;
    border: none;
    cursor: pointer;
    background: white;
    color: #111;
    box-shadow: 0 4px 14px #00000020;
  }

  button:active { transform: translateY(1px); }

  #resultado {
    text-align: center;
    margin-top: 8px;
    color: #fff;
    font-weight: 600;
    text-shadow: 0 2px 6px #00000080;
  }

  .lateral {
    background: #ffffffcc;
    backdrop-filter: blur(4px);
    border-radius: 16px;
    padding: 20px;
    box-shadow: 0 8px 24px #00000033;
  }

  .lateral h2 {
    margin: 0 0 8px 0;
    font-size: 28px;
    line-height: 1.1;
  }

  .lateral p {
    margin: 0;
    color: #333;
  }

  @media (max-width: 820px) {
    .wrap {
      grid-template-columns: 1fr;
    }
    .lateral {
      order: -1; /* Mostrar primero en m√≥viles si quieres */
    }
  }
</style>
</head>
<body>
  <div class="wrap">
    <div class="panel-ruleta">
      <div class="flecha" aria-hidden="true"></div>
      <canvas id="ruleta" width="600" height="600"></canvas>
      <div class="controles">
        <button onclick="girar()">üéØ Girar</button>
        <button onclick="detener()">‚èπÔ∏è Detener</button>
      </div>
      <h2 id="resultado">‚Äî</h2>
    </div>

    <aside class="lateral">
      <h2>TOP es amor</h2>
      <p>Saquen a Amet del grupo</p>
    </aside>
  </div>

<script>
/* =========================
   Configuraci√≥n de colores
   ========================= */
const segmentos = [
  { nombre: "Rojo",     color: "#e53935" },
  { nombre: "Cian",     color: "#00bcd4" },
  { nombre: "Azul",     color: "#1e88e5" },
  { nombre: "√çndigo",   color: "#3949ab" },
  { nombre: "Magenta",  color: "#d81b60" },
  { nombre: "Teal",     color: "#00897b" },
];

/* =========================
   Canvas y animaci√≥n
   ========================= */
const canvas = document.getElementById("ruleta");
const ctx = canvas.getContext("2d");
const cx = canvas.width / 2;
const cy = canvas.height / 2;
const R  = Math.min(cx, cy);     // radio m√°ximo
const margenBorde = 14;          // deja ver el borde blanco
const radioSegmentos = R - margenBorde;

let startAngle = 0;
let girando = false;
let velocidad = 0;
let rafId = null;

/* Contraste de texto (blanco/negro) seg√∫n el color */
function textoContraste(hex) {
  const c = hex.replace('#','');
  const r = parseInt(c.substring(0,2), 16);
  const g = parseInt(c.substring(2,4), 16);
  const b = parseInt(c.substring(4,6), 16);
  // luminancia relativa
  const Y = (0.2126*r + 0.7152*g + 0.0722*b);
  return Y > 140 ? "#111" : "#fff";
}

function dibujarRuleta() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  // Fondo/borde blanco circular (resalta contra la imagen de fondo)
  ctx.beginPath();
  ctx.arc(cx, cy, R, 0, Math.PI * 2);
  ctx.fillStyle = "#fff";
  ctx.fill();

  // Sombra sutil interna del borde
  ctx.save();
  ctx.shadowColor = "rgba(0,0,0,.12)";
  ctx.shadowBlur = 18;
  ctx.shadowOffsetY = 2;

  const arc = (Math.PI * 2) / segmentos.length;
  for (let i = 0; i < segmentos.length; i++) {
    const angle = startAngle + i * arc;

    // Segmento
    ctx.beginPath();
    ctx.moveTo(cx, cy);
    ctx.arc(cx, cy, radioSegmentos, angle, angle + arc);
    ctx.closePath();
    ctx.fillStyle = segmentos[i].color;
    ctx.fill();
  }
  ctx.restore();

  // Separadores finos entre segmentos (l√≠neas blancas)
  ctx.lineWidth = 2;
  ctx.strokeStyle = "#ffffffee";
  for (let i = 0; i < segmentos.length; i++) {
    const angle = startAngle + i * arc;
    // Evitar dibujar la l√≠nea que coincide con la flecha (arriba)
    const anguloEnGrados = ((angle * 180 / Math.PI) % 360 + 360) % 360;
    if (anguloEnGrados > 2 && anguloEnGrados < 358) {
        ctx.beginPath();
        ctx.moveTo(cx, cy);
        ctx.lineTo(cx + radioSegmentos * Math.cos(angle), cy + radioSegmentos * Math.sin(angle));
        ctx.stroke();
    }
    }


  // Etiquetas (nombres de color)
  ctx.save();
  ctx.translate(cx, cy);
  ctx.font = "bold 18px system-ui, Segoe UI, Arial";
  for (let i = 0; i < segmentos.length; i++) {
    const angle = startAngle + i * arc + arc / 2;
    ctx.save();
    ctx.rotate(angle);
    ctx.textAlign = "right";
    ctx.fillStyle = textoContraste(segmentos[i].color);
    ctx.fillText(segmentos[i].nombre, radioSegmentos - 12, 6);
    ctx.restore();
  }
  ctx.restore();
}

function girar() {
  if (girando) return;
  girando = true;
  // velocidad inicial aleatoria + vueltas extra
  velocidad = Math.random() * 0.3 + 0.28; 
  animar();
}

function detener() {
  // freno suave
  velocidad = Math.min(velocidad, 0.03);
}

function animar() {
  if (velocidad > 0.0006) {
    velocidad *= 0.985;        // fricci√≥n
    startAngle = (startAngle + velocidad) % (Math.PI * 2);
    dibujarRuleta();
    rafId = requestAnimationFrame(animar);
  } else {
    girando = false;
    cancelAnimationFrame(rafId);
    mostrarResultado();
  }
}

function mostrarResultado() {
  const arc = (Math.PI * 2) / segmentos.length;
  // La flecha apunta hacia arriba ( -90¬∞ => 3œÄ/2 )
  const anguloFlecha = Math.PI * 3 / 2;
  const anguloRelativo = (anguloFlecha - startAngle + Math.PI * 2) % (Math.PI * 2);
  const indice = Math.floor(anguloRelativo / arc) % segmentos.length;
  const elegido = segmentos[indice];

  const res = document.getElementById("resultado");
  res.textContent = `Color: ${elegido.nombre}`;
}

dibujarRuleta();
</script>
</body>
</html>


